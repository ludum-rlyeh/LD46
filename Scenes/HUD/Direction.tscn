[gd_scene load_steps=3 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]
resource_name = "Direction"
script/source = "extends Node2D

var _init_direction = Vector2.UP

func _ready():
	Events.connect(\"moved_signal\", self, \"_on_moved_src\")

func _on_moved_src(position : Vector2) -> void:
	var direction = (position - $EndPoint.position).normalized()
	$Arrow.rotation(direction.angle_to(_init_direction))"

[node name="Direction" type="Node2D"]
script = SubResource( 1 )

[node name="Arrow" type="Sprite" parent="."]
scale = Vector2( 0.5, 1 )
texture = ExtResource( 1 )

[node name="EndPoint" type="Position2D" parent="."]
